#include "nutility.h"
#include <stdio.h>
#include <time.h>
#include <stdlib.h>


static int icmp(const void *vp1, const void *vp2);

//----------------------------------------------------------------------------------------------------------

int isprime(int val)
{
	if (val == 0 || val == 1)
		return 0;

	if (val % 2 == 0)
		return val == 2;

	if (val % 3 == 0)
		return val == 3;

	if (val % 5 == 0)
		return val == 5;

	for (int k = 7; k * k <= val; k += 2)
		if (val % k == 0)
			return 0;

	return 1;
}

//----------------------------------------------------------------------------------------------------------

void sl(void)
{
	printf("\n*******************************************************************************\n");
}


//----------------------------------------------------------------------------------------------------------

void sleep(double sec)
{
	clock_t start = clock();

	while ((double)(clock() - start) / CLOCKS_PER_SEC < sec)
		; //null statement
}


//----------------------------------------------------------------------------------------------------------

int ndigit(int val)
{
	if (val == 0)
		return 1;

	int digit_count = 0;

	while (val) {
		++digit_count;
		val /= 10;
	}

	return digit_count;
}


//----------------------------------------------------------------------------------------------------------


void randomize()
{
	srand((unsigned)time(0));
}


//----------------------------------------------------------------------------------------------------------


void set_random_array(int *p, size_t size)
{
	while (size--)
		*p++ = rand() % 1000;
}


//----------------------------------------------------------------------------------------------------------

void display_array(const int *p, size_t size)
{
	for (size_t i = 0; i < size; ++i) {
		if (i && i % 20 == 0)
			printf("\n");
		printf("%3d ", p[i]);
	}
	sl();
}


//----------------------------------------------------------------------------------------------------------



void sort(int *p, size_t size)
{
	qsort(p, size, sizeof(*p), icmp);
}


//----------------------------------------------------------------------------------------------------------

void sgets(char *p)
{
	int c;

	while ((c = getchar()) != '\n')
		*p++ = (char)c;

	*p = '\0';
}


//----------------------------------------------------------------------------------------------------------


static int icmp(const void *vp1, const void *vp2)
{
	return *(const int *)vp1 - *(const int *)vp2;
}


//----------------------------------------------------------------------------------------------------------

